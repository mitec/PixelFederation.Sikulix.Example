group 'com.pixelfederation'
version 'unspecified'

apply plugin: 'java'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
    flatDir { dirs 'lib' }
}

dependencies {
    compile('com.sikulix:sikulixapi:1.1.1') {
        exclude group: 'com.github.vidstige', module: 'jadb'
        exclude module: '${sikulix.libs}'
    }
    compile group: 'com.sikulix', name: getSikuliXLibName(), version: '1.1.1'
    compile group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-yaml', version: '2.5.0'

    testCompile group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-yaml', version: '2.5.0'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

def static getSikuliXLibName() {
    switch (System.getProperty('os.name').toLowerCase().split()[0]) {
        case 'windows':
            return 'sikulixlibswin'

        case 'linux':
            return 'sikulixlibslux'

        case 'mac':
            return 'sikulixlibsmac'

        default:
            throw new Exception('Unknown OS')
    }
}